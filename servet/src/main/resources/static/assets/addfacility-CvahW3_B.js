import{q as w,u as G,v as n,x as H,o as J,y as K,b as e,w as l,z as s,e as v,F as L,A as O,B as R,k as g,d as u,C as y,D as k,G as Q,H as W,I as X,J as p,K as V,L as Y,M as Z,N as ee,O as le}from"./index-W_Z73pLO.js";/* empty css                      *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                */const ae={class:"dialog-footer"},oe=["id"],te={class:"dialog-footer"},ge={__name:"addfacility",setup(se){const m=w({gymName:"",gymAddress:""}),d=w({gymID:0,gymName:"",gymAddress:""}),z=G(),{$http:c}=z.appContext.config.globalProperties,N=n(0),A=n(3),b=n(1);n([]);const F=o=>{console.log(o),b.value=o,r()},x=o=>{console.log(o),o.value=o,r()},U=o=>{_.value=!0,d.gymID=o.gymID,d.gymName=o.gymName,d.gymAddress=o.gymAddress},B=o=>{console.log(o),V.confirm("确认删除该场馆吗？").then(()=>{c.delete("/deletegym/"+o).then(t=>{console.log(t.data),V.alert("删除成功"),r()})}).catch(()=>{console.log("cancel")})},T=()=>{c.post("/updategym",{gymID:d.gymID,gymName:d.gymName,gymAddress:d.gymAddress}).then(o=>{console.log(o.data),_.value=!1,V.alert("修改成功"),r()})},f=n(!1),h=n([]),P=()=>{c.post("/addgym",{gymName:m.gymName,gymAddress:m.gymAddress}).then(o=>{console.log(o.data),V.alert("添加成功"),f.value=!1,r()})};H(()=>{r()});const r=()=>{c.get("/pagegym?pageNumber="+b.value+"&pageSize="+A.value).then(o=>{h.value=o.data.data,N.value=o.data.total})},_=n(!1),D=n(!1),I=n("");return(o,t)=>{const i=Y,E=Z,$=ee,M=O,S=le,j=R;return J(),K(L,null,[e(s(k),{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=a=>f.value=a),title:"增加场馆",direction:"ltr",class:"demo-drawer"},{footer:l(()=>[v("div",ae,[e(s(g),{onClick:P},{default:l(()=>[u("确认")]),_:1})])]),default:l(()=>[e(E,{ref:"form",model:m,"label-position":"left","label-width":"100px"},{default:l(()=>[e(s(y),{label:"gymName"},{default:l(()=>[e(i,{modelValue:m.gymName,"onUpdate:modelValue":t[0]||(t[0]=a=>m.gymName=a)},null,8,["modelValue"])]),_:1}),e(s(y),{label:"gymAddress"},{default:l(()=>[e(i,{modelValue:m.gymAddress,"onUpdate:modelValue":t[1]||(t[1]=a=>m.gymAddress=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(s(k),{modelValue:D.value,"onUpdate:modelValue":t[3]||(t[3]=a=>D.value=a),"show-close":!1},{header:l(({close:a,titleId:C,titleClass:q})=>[v("h4",{id:C,class:Q(q)},"This is a custom header!",10,oe),e(s(g),{type:"danger",onClick:a},{default:l(()=>[e($,{class:"el-icon--left"},{default:l(()=>[e(s(W))]),_:1}),u(" Close ")]),_:2},1032,["onClick"])]),default:l(()=>[u(" This is drawer content. ")]),_:1},8,["modelValue"]),e(s(g),{class:"custom-btn btn",onClick:t[4]||(t[4]=a=>f.value=!0)},{default:l(()=>[u("增加场馆")]),_:1}),e(M,{modelValue:_.value,"onUpdate:modelValue":t[8]||(t[8]=a=>_.value=a),title:"修改场馆",width:"500"},{footer:l(()=>[v("div",te,[e(s(g),{onClick:T},{default:l(()=>[u("修改")]),_:1})])]),default:l(()=>[e(E,{ref:"form",model:d,"label-position":"left","label-width":"100px"},{default:l(()=>[e(s(y),{label:"gymID"},{default:l(()=>[e(i,{modelValue:d.gymID,"onUpdate:modelValue":t[5]||(t[5]=a=>d.gymID=a),disabled:""},null,8,["modelValue"])]),_:1}),e(s(y),{label:"gymName"},{default:l(()=>[e(i,{modelValue:d.gymName,"onUpdate:modelValue":t[6]||(t[6]=a=>d.gymName=a)},null,8,["modelValue"])]),_:1}),e(s(y),{label:"gymAddress"},{default:l(()=>[e(i,{modelValue:d.gymAddress,"onUpdate:modelValue":t[7]||(t[7]=a=>d.gymAddress=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),v("div",null,[e(j,null,{default:l(()=>[e(s(X),{data:h.value,style:{width:"100%"},"row-class-name":o.tableRowClassName,"default-page-size":1},{default:l(()=>[e(s(p),{label:"gymID",prop:"gymID"}),e(s(p),{label:"gymName",prop:"gymName"}),e(s(p),{label:"gymAddress",prop:"gymAddress"}),e(s(p),{label:"gymPhone",prop:"gymPhone"}),e(s(p),{label:"gymEmail",prop:"gymEmail"}),e(s(p),{align:"right"},{header:l(()=>[e(i,{modelValue:I.value,"onUpdate:modelValue":t[9]||(t[9]=a=>I.value=a),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:l(a=>[e(s(g),{size:"small",plain:"",onClick:C=>U(a.row)},{default:l(()=>[u(" 修改 ")]),_:2},1032,["onClick"]),e(s(g),{color:"red",size:"small",type:"danger",onClick:C=>B(a.row.gymID)},{default:l(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","row-class-name"]),e(S,{total:N.value,"page-size":A.value,"current-page":b.value,onCurrentChange:F,onSizeChange:x,"page-sizes":[1,2,3,4],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page-size","current-page"])]),_:1})])],64)}}};export{ge as default};
