import{u as z,v as o,x,s as I,o as k,c as E,w as n,B as S,b as t,d as T,J as y,k as B,I as N,O as $}from"./index-W_Z73pLO.js";/* empty css                      *//* empty css                 *//* empty css                  *//* empty css                        *//* empty css                    *//* empty css                  */const A={__name:"third_page",setup(w){const g=z(),{$http:r}=g.appContext.config.globalProperties,s=o([]),_=o([]),c=o(1),p=o(2),i=o(0),v=e=>{console.log(e);const u=s.value[e].reserveID;console.log(u),r.delete("/deletereserve/"+u).then(a=>{console.log(a),l()})};x(()=>{l()});const l=()=>{r.get("/getreserve/"+I.state.userID).then(e=>{console.log(e.data),s.value=e.data}),r.get("/page?pageNumber="+c.value+"&pageSize="+p.value).then(e=>{console.log(e),i.value=e.total,_.value=e.data})},d=e=>{console.log(e),c.value=e,l()},m=e=>{p.value=e,l()};return(e,u)=>{const a=y,b=B,h=N,C=$,f=S;return k(),E(f,null,{default:n(()=>[t(h,{data:s.value},{default:n(()=>[t(a,{prop:"reserveID",label:"预约ID"}),t(a,{prop:"reserveGym",label:"场馆名字"}),t(a,{prop:"reserveTime",label:"预约时间"}),t(a,{prop:"reserveDate",label:"预约日期"}),t(a,{prop:"reserveStatus",label:"预约状态"}),t(a,{label:"操作"},{default:n(D=>[t(b,{type:"text",size:"mini",onClick:P=>v(D.$index)},{default:n(()=>[T(" 删除预约 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(C,{total:i.value,"page-size":p.value,"current-page":c.value,onCurrentChange:d,onSizeChange:m,"page-sizes":[1,2,3,4],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page-size","current-page"])]),_:1})}}};export{A as default};
