import{_ as b,o as V,y as C,b as e,w as s,F as D,B as N,A as U,d as m,e as z,k,J as y,I as E,O as x,L as P,C as v,M as S}from"./index-W_Z73pLO.js";/* empty css                   *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 *//* empty css                      *//* empty css                  *//* empty css                        *//* empty css                    *//* empty css                  */const w={data(){return{form:[],userdialogVisible:!1,tableData:[],pageNumber:1,pageSize:2,total:0,registerUsername:"",registerPassword:"",loginUsername:"",loginPassword:""}},created(){this.fetchData()},methods:{deleteUser(o){console.log(o),this.$http.delete("/deleteuser/"+this.tableData[o].userID).then(l=>{console.log(l),this.$message({message:"用户删除成功",type:"success"}),this.fetchData()}).catch(l=>{console.log(l),this.$message.error("用户删除失败")})},editUser(o){console.log(o),this.form=this.tableData[o],this.userdialogVisible=!0},addUser(){console.log(this.form),this.$http.post("/postuser",{userName:this.form.userName,passWord:this.form.passWord,mobilePhone:this.form.mobilePhone,email:this.form.email}).then(o=>{console.log(o),this.$message({message:"用户添加成功",type:"success"}),this.userdialogVisible=!1,this.fetchData()}).catch(o=>{console.log(o),this.$message.error("用户添加失败")})},fetchData(){this.$http.get("/pageuser?pageNumber="+this.pageNumber+"&pageSize="+this.pageSize).then(o=>{console.log(o),this.total=o.data.total,this.tableData=o.data.data})},handleCurrentChange(o){console.log(o),this.pageNumber=o,this.fetchData()},handleSizeChange(o){console.log(o),this.pageSize=o,this.fetchData()}}},I={slot:"footer",class:"dialog-footer"};function W(o,l,B,F,t,n){const i=k,r=y,d=E,g=x,f=N,p=P,u=v,h=S,c=U;return V(),C(D,null,[e(f,null,{default:s(()=>[e(i,{type:"primary",onClick:l[0]||(l[0]=a=>t.userdialogVisible=!0)},{default:s(()=>[m("增加用户")]),_:1}),e(d,{data:t.tableData},{default:s(()=>[e(r,{prop:"userID",label:"ID"}),e(r,{prop:"userName",label:"用户名"}),e(r,{prop:"passWord",label:"密码"}),e(r,{prop:"email",label:"邮箱"}),e(r,{prop:"mobilePhone",label:"手机号"}),e(r,{label:"操作"},{default:s(a=>[e(i,{type:"text",onClick:_=>n.editUser(a.$index)},{default:s(()=>[m("编辑")]),_:2},1032,["onClick"]),e(i,{type:"text",onClick:_=>n.deleteUser(a.$index)},{default:s(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(g,{total:t.total,"page-size":t.pageSize,"current-page":t.pageNumber,onCurrentChange:n.handleCurrentChange,onSizeChange:n.handleSizeChange,"page-sizes":[1,2,3,4],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page-size","current-page","onCurrentChange","onSizeChange"])]),_:1}),e(c,{title:"增加用户",modelValue:t.userdialogVisible,"onUpdate:modelValue":l[6]||(l[6]=a=>t.userdialogVisible=a)},{default:s(()=>[e(h,{model:t.form,ref:"form","label-width":"80px"},{default:s(()=>[e(u,{label:"用户名",prop:"userName"},{default:s(()=>[e(p,{modelValue:t.form.userName,"onUpdate:modelValue":l[1]||(l[1]=a=>t.form.userName=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"密码",prop:"passWord"},{default:s(()=>[e(p,{type:"password",modelValue:t.form.passWord,"onUpdate:modelValue":l[2]||(l[2]=a=>t.form.passWord=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"手机号",prop:"mobilePhone"},{default:s(()=>[e(p,{modelValue:t.form.mobilePhone,"onUpdate:modelValue":l[3]||(l[3]=a=>t.form.mobilePhone=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"邮箱",prop:"email"},{default:s(()=>[e(p,{modelValue:t.form.email,"onUpdate:modelValue":l[4]||(l[4]=a=>t.form.email=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),z("div",I,[e(i,{onClick:l[5]||(l[5]=a=>t.userdialogVisible=!1)},{default:s(()=>[m("取 消")]),_:1}),e(i,{type:"primary",onClick:n.addUser},{default:s(()=>[m("确 定")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])],64)}const K=b(w,[["render",W]]);export{K as default};
